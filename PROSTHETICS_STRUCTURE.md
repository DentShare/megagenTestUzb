# Структура каталога для протетики и лаборатории

## Особенности протетики и лаборатории

Для категорий **Протетика** и **Лаборатория** используется специальная структура навигации:

1. **Категория** → Протетика / Лаборатория
2. **Линейка импланта** → AnyRidge, AnyOne, MiNi и т.д.
3. **Товар** → EZ Post Abutment, Healing Abutment, Lab Analog и т.д.
4. **Тип** → Прямой или Угловой (для протетики)
5. **Диаметр** → диаметр абатмента
6. **Высота десны** → высота десны
7. **Высота абатмента** → высота абатмента

## Структура данных в Excel

Для протетики и лаборатории в Excel должны быть заполнены следующие колонки:

| Категория | Линейка | Название товара | Артикул (1C) | Тип | Диаметр | Длина | Высота абатмента | Ед. изм. |
|-----------|---------|-----------------|--------------|-----|---------|-------|------------------|----------|
| Протетика | AnyRidge | EZ Post Abutment | EP-AR-45-15-25-ST | прямой | 4.5 | 1.5 | 2.5 | шт |
| Протетика | AnyOne | EZ Post Abutment | EP-AO-45-15-25-ST | прямой | 4.5 | 1.5 | 2.5 | шт |
| Протетика | AnyRidge | Healing Abutment | HA-AR-45-15-25-AN | угловой | 4.5 | 1.5 | 2.5 | шт |
| Лаборатория | AnyRidge | Lab Analog | LA-AR-45-15-25 | | 4.5 | 1.5 | 2.5 | шт |

**Примечания:**
- **Линейка**: линейка импланта (AnyRidge, AnyOne и т.д.)
- **Название товара**: название товара (EZ Post Abutment, Healing Abutment и т.д.)
- **Тип**: для протетики - "прямой" или "угловой", для лаборатории может быть пустым
- **Длина**: высота десны
- **Высота абатмента**: высота абатмента

## Структура данных в catalog_data.py

После загрузки протетика/лаборатория хранится в следующем формате:

```python
CATALOG = {
    "Протетика": {
        "EZ Post Abutment": {  # Название товара
            "AnyRidge": {  # Линейка импланта
                "прямой": {  # Тип
                    4.5: {  # Диаметр
                        1.5: {  # Высота десны
                            2.5: {  # Высота абатмента
                                "name": "EZ Post Abutment прямой Ø4.5 Д1.5 А2.5",
                                "sku": "EP-AR-45-15-25-ST",
                                "unit": "шт"
                            },
                            3.0: {
                                "name": "EZ Post Abutment прямой Ø4.5 Д1.5 А3.0",
                                "sku": "EP-AR-45-15-30-ST",
                                "unit": "шт"
                            }
                        },
                        2.0: {  # Другая высота десны
                            2.5: {...},
                            3.0: {...}
                        }
                    }
                },
                "угловой": {
                    # Аналогичная структура для угловых
                }
            },
            "AnyOne": {  # Другая линейка импланта
                # Аналогичная структура
            }
        },
        "Healing Abutment": {
            # Аналогичная структура для других товаров
        }
    },
    "Лаборатория": {
        "Lab Analog": {
            "AnyRidge": {
                # Может быть без типа
                4.5: {
                    1.5: {
                        2.5: {...}
                    }
                }
            }
        }
    }
}
```

## Навигация в боте

1. Пользователь выбирает категорию "Протетика" или "Лаборатория"
2. Выбирает **линейку импланта** (AnyRidge, AnyOne и т.д.)
3. Выбирает **товар** (EZ Post Abutment, Healing Abutment и т.д.)
4. Для протетики: выбирает **тип** (Прямой или Угловой)
5. Выбирает **диаметр**
6. Выбирает **высоту десны**
7. Выбирает **высоту абатмента**
8. Вводит количество и добавляет в корзину

## Пример заполнения Excel

```
Категория: Протетика
Линейка: AnyRidge
Название товара: EZ Post Abutment
Артикул (1C): EP-AR-45-15-25-ST
Тип: прямой
Диаметр: 4.5
Длина: 1.5
Высота абатмента: 2.5
Ед. изм.: шт
```

## Важно

- **Линейка** в Excel - это линейка импланта (AnyRidge, AnyOne и т.д.)
- **Название товара** - это конкретный товар (EZ Post Abutment, Healing Abutment и т.д.)
- Тип (прямой/угловой) обязателен для протетики, для лаборатории может быть пустым
- Для протетики/лаборатории заполняются: Диаметр, Длина (высота десны) и Высота абатмента
- Артикул должен быть уникальным для каждой комбинации: товар + линейка импланта + тип + размеры
